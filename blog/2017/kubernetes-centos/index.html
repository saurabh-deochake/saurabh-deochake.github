<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Kubernetes on CentOS 7.0 | Saurabh Deochake</title> <meta name="author" content="Saurabh Deochake"> <meta name="description" content="This is a thorough tutorial on setting up Kubernetes cluster on CentOS 7 servers. This is a step-by-step tutorial which also discusses potential problems that may be faced and how to solve them."> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://saurabhdeochake.com/blog/2017/kubernetes-centos/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Saurabh </span>Deochake</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Kubernetes on CentOS 7.0</h1> <p class="post-meta">July 24, 2017</p> <p class="post-tags"> <a href="/blog/2017"> <i class="fas fa-calendar fa-sm"></i> 2017 </a>   ·   <a href="/blog/tag/cloud"> <i class="fas fa-hashtag fa-sm"></i> cloud</a>   <a href="/blog/tag/kubernetes"> <i class="fas fa-hashtag fa-sm"></i> kubernetes</a>   <a href="/blog/tag/sre"> <i class="fas fa-hashtag fa-sm"></i> sre</a>   <a href="/blog/tag/devops"> <i class="fas fa-hashtag fa-sm"></i> devops</a>     ·   <a href="/blog/category/cloud"> <i class="fas fa-tag fa-sm"></i> cloud</a>   </p> </header> <article class="post-content"> <h1 id="setting-up-kubernetes-on-centos-7">Setting up Kubernetes on CentOS 7</h1> <h3 id="1-introduction">1) Introduction</h3> <p>This document describes all the steps that are required to install and set up Kubernetes cluster on CentOS 7 machines. This set up tutorial is divided into three parts: first part discusses the lab machines set up that we follow, second part showcases installation steps required to set up Kubernetes cluster on CentOS 7 and finally third part discusses all the problems that may occur during the set up and potential fixes for them.</p> <h3 id="2-environment-setup">2) Environment Setup</h3> <p>Our set up consists of 3 bare metal machines which have CentOS 7 installed in them. You may also want to set up this cluster using virtual machines. We make sure that these three machines are on same subnet and they can ping each other over the network.</p> <p>So, below are our nodes including master node and worker nodes: <br> 10.23.114.120 node1 – Master Node <br> 10.23.114.194 node2 – Worker Node 1 <br> 10.23.114.118 node3 – Worker Node 2</p> <p>Before you proceed to installation and setup steps next, please make sure you have made changes to <code class="language-plaintext highlighter-rouge">/etc/hosts</code> to include all the nodes by hostnames and IP. This will make sure we will have connectivity among machines by hostnames.</p> <h3 id="3-installation-and-setup">3) Installation and Setup</h3> <p>Kubernetes have their official guide for setting up Kubernetes cluster on CentOS 7 machines and it is located <a href="http://https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/" rel="external nofollow noopener" target="_blank">here</a>. To execute steps below, you may want to acquire root user privileges. Now, if you are sitting behind a proxy, then you may want to add <code class="language-plaintext highlighter-rouge">http_proxy</code> variable in your system. You may also include the proxy variable by editing <code class="language-plaintext highlighter-rouge">/etc/yum.conf</code> file and adding “<code class="language-plaintext highlighter-rouge">proxy=&lt;http://proxy.something.com:port&gt;</code>” at the end of the file.</p> <ul> <li> <p><strong>Installation of Docker</strong> <br> On each of your three machines- including master node and two worker nodes- install Docker. Please note that Kubernetes’ Kubeadm tool is not extensively tested on Docker versions 1.13 and 17.03+. Therefore, to avoid future problems with our set up we specifically install Docker version 1.12.</p> <ul> <li><strong>Add Docker Repo</strong></li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> yum-utils    
<span class="nv">$ </span>yum-config-manager <span class="se">\</span>
  <span class="nt">--add-repo</span> <span class="se">\</span>
  https://docs.docker.com/v1.13/engine/installation/linux/repo_files/centos/docker.repo
<span class="nv">$ </span>yum makecache fast   
</code></pre></div> </div> <p>There is a good chance that you might not be able to connect to docs.docker.com, so you may want to install docker.repo on your local windows machine first and then transfer that repo file to /etc/yum.repos.d/ directory in each of three machines using tools like WinSCP (on Windows) or create a new repo file.</p> <ul> <li> <strong>List all packages</strong> <br> Now, we check all versions of Docker that are offered in the repo we added above. As we know that Kubernetes kubeadm is not tested extensively on Docker 1.13 and 17.03+ versions, we install Docker 1.12 version.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>yum list docker-engine.x86_64  <span class="nt">--showduplicates</span> | <span class="nb">sort</span> –r

docker-engine.x86_64     1.13.1-1.el7.centos              docker-main   
docker-engine.x86_64     1.12.6-1.el7.centos              docker-main   
docker-engine.x86_64     1.11.2-1.el7.centos              docker-main   
</code></pre></div> </div> </li> </ul> <p>We will install Docker version 1.12 on all our machines in the setup.</p> <ul> <li> <strong>Install and start Docker on all machines</strong> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>yum <span class="nb">install</span> <span class="nt">-y</span> docker-engine-1.12.6   
  <span class="nv">$ </span>systemctl start docker
  <span class="nv">$ </span>systemctl <span class="nb">enable </span>docker   
</code></pre></div> </div> </li> <li> <strong>Install and Set Up Kubernetes Components</strong> <br> Next, we will install core components of Kubernetes that are essential for our Kubernetes cluster to work. These components include kubectl, kubelet and kubeadm. We will also install other components that will be important for our set up. Install these components on all machines including master and worker nodes. <ul> <li><strong>Add Kubernetes Repo</strong></li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh"> &gt; /etc/yum.repos.d/kubernetes.repo

[kubernetes]
name=Kubernetes
baseurl=http://yum.kubernetes.io/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg
      https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
</span><span class="no">EOF
</span></code></pre></div> </div> <p>Now, we check the version of packages offered by this repo.</p> <ul> <li><strong>List Packages</strong></li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>yum list kubeadm  <span class="nt">--showduplicates</span> |sort <span class="nt">-r</span>

kubeadm.x86_64            1.6.5-0                        kubernetes
kubeadm.x86_64            1.6.4-0                        kubernetes

<span class="nv">$ </span>yum list kubelet  <span class="nt">--showduplicates</span> |sort <span class="nt">-r</span>

kubelet.x86_64            1.6.5-0                        kubernetes
kubelet.x86_64            1.6.4-0                        kubernetes
kubelet.x86_64            1.6.3-0                        kubernetes

<span class="nv">$ </span>yum list kubectl  <span class="nt">--showduplicates</span> |sort <span class="nt">-r</span>

kubectl.x86_64            1.6.5-0                        kubernetes
kubectl.x86_64            1.6.4-0                        kubernetes
kubectl.x86_64            1.6.3-0                        kubernetes


<span class="nv">$ </span>yum list kubernetes-cni  <span class="nt">--showduplicates</span> |sort <span class="nt">-r</span>

kubernetes-cni.x86_64     0.5.1-0                        kubernetes
</code></pre></div> </div> <p>Next on, we install latest versions of these packages in following step.</p> <ul> <li><strong>Install <code class="language-plaintext highlighter-rouge">kubeadm</code>, <code class="language-plaintext highlighter-rouge">kubectl</code> and CNI Plugin</strong></li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>setenforce 0

<span class="nv">$ </span>yum <span class="nb">install</span> <span class="nt">-y</span> kubelet kubeadm kubectl kubernetes-cni
...
... 

Installed:
   kubeadm.x86_64 0:1.6.5-0              
       kubectl.x86_64 0:1.6.5-0
       kubelet.x86_64 0:1.6.5-0
       kubernetes-cni.x86_64 0:0.5.1-0

Complete!

<span class="nv">$ </span>systemctl <span class="nb">enable </span>kubelet.service
</code></pre></div> </div> <ul> <li> <strong>Initialize Kubernetes Cluster</strong> <br> Run following commands on Master node.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>kubeadm init <span class="nt">--kubernetes-version</span><span class="o">=</span>v1.6.5 <span class="nt">--pod-network</span> <span class="nv">cidr</span><span class="o">=</span>10.245.0.0/16 <span class="nt">--apiserver-advertise-address</span><span class="o">=</span>10.23.114.120
</code></pre></div> </div> <p>This initializes the cluster and our master node listens on address 10.23.114.120.</p> <ul> <li> <strong>Start Using the Cluster</strong> <br> To start using your cluster, please follow below commands as a regular user.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo cp</span> /etc/kubernetes/admin.conf <span class="nv">$HOME</span>/
<span class="nv">$ </span><span class="nb">sudo chown</span> <span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-g</span><span class="si">)</span> <span class="nv">$HOME</span>/admin.conf
<span class="nv">$ </span><span class="nb">export </span><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$HOME</span>/admin.conf
</code></pre></div> </div> <p>Your Kubernetes cluster is good to go! Next step, we will deploy pods in our cluster.</p> <ul> <li> <p><strong>Deploy PODs</strong> <br> Before we join worker nodes to the cluster, it is essential to set up CNI network configuration. We will use Flannel overlay network plugin for our networking. To avoid future problems with our pod, we will change the Flannel subnet address. Download yaml file from https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml and in “Network” field change “10.244.0.0/16” to “10.245.0.0/16”. This is essential to prevent interesection of Flannel IP range with DNS range.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl apply –f https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml

serviceaccount <span class="s2">"flannel"</span> configured
configmap <span class="s2">"kube-flannel-cfg"</span> configured
daemonset <span class="s2">"kube-flannel-ds"</span> configured
</code></pre></div> </div> </li> <li> <p><strong>Apply Flannel RBAC Configuration</strong> To avoid “CrashLoopBackOff” error with our pods that we deployed earlier, we must apply yaml congurations related to Role Based Access Control (RBAC) authorization. Run following commands to apply RBAC.</p> </li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>kubectl apply –f https://github.com/core    os/flannel/blob/master/Documentation/kube-flannel-rbac.yml 
   
 clusterrole <span class="s2">"flannel"</span> created
 clusterrolebinding <span class="s2">"flannel"</span> created
</code></pre></div> </div> <ul> <li> <strong>Join Worker Nodes to Cluster</strong> <br> After you start the cluster with kubeadm init command and the init command runs successfully, you should see a command to join the cluster using a token mentioned. Run that command as root on all the worker nodes so that they join the cluster.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubeadm <span class="nb">join</span> <span class="nt">--token</span> e7986d.e440de5882342711 10.23.114.120:6443
</code></pre></div> </div> <p>Now, to check if all nodes have joined the cluster please run following command on master node.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get nodes

NAME      STATUS     AGE       VERSION
node1     Ready      3m        v1.6.5
node2     Ready      2m        v1.6.5
node3     Ready      52s       v1.6.5
</code></pre></div> </div> <p>Your cluster is set up now and is good to go!</p> </li> </ul> <h3 id="4-problems-and-fixes">4) Problems and Fixes</h3> <p>In this section, we will mention various problem that you may encounter during the installation and setup of Kubernetes cluster.</p> <ul> <li> <p><strong>Problem</strong>: Kubeadm init stuck at “Waiting for the control plane to become ready” <br> <strong>Fix</strong>: The cluster fails to initialize and is stuck at “waiting for the control plane to become ready”. The cluster is not waiting for services tied to control plane but it is stuck waiting because our Docker containers failed to launch. The root of the problem is that Docker tries to fetch images for containers but fails because it cannot go through the proxy. To work around this, please follow below steps to mention http_proxy variable for Docker environment.</p> <ul> <li>Create a systemd directory for Docker service</li> </ul> <p><code class="language-plaintext highlighter-rouge">$ mkdir /etc/systemd/system/docker.service.d</code></p> <ul> <li>Now, create an environment variable configuration file to hold our http proxy variable.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>vim /etc/systemd/system/docker.service.d/http-proxy.conf
	
  <span class="o">[</span>Service]
  <span class="nv">Environment</span><span class="o">=</span><span class="s2">"HTTP_PROXY=&lt;http://proxy.something.com:port&gt;"</span>
</code></pre></div> </div> <ul> <li>Flush changes and verify configuration <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">sudo </span>systemctl daemon-reload
  <span class="nv">$ </span><span class="nb">sudo </span>systemctl show <span class="nt">--property</span> Environment docker
  <span class="nv">Environment</span><span class="o">=</span><span class="nv">HTTP_PROXY</span><span class="o">=</span><span class="nv">HTTP_PROXY</span><span class="o">=</span>&lt;http://proxy.something.com:port&gt;
  <span class="nv">$ </span>service docker restart
</code></pre></div> </div> </li> </ul> <p>If this does not work for you then there is another way it can be fixed:</p> <ul> <li>Open configuration file for Docker at /etc/sysconfig/docker and write proxy variable in the file.</li> </ul> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="c"># vim /etc/sysconfig/docker</span>
  <span class="nv">HTTP_PROXY</span><span class="o">=</span><span class="nv">HTTP_PROXY</span><span class="o">=</span>&lt;http://proxy.something.com:port&gt;

  <span class="nv">$ </span>service docker restart
</code></pre></div> </div> </li> <li> <p><strong>Problem</strong>: Error message: <code class="language-plaintext highlighter-rouge">misconfiguration: kubelet cgroup driver: "systemd" is different from docker cgroup driver: "cgroupfs"</code> <br> <strong>Fix</strong>: When you run kubectl get nodes to get all nodes in the cluster, you may not get all nodes listed in the output of the command.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>kubectl get nodes

  NAME      STATUS     AGE       VERSION
  node1     NotReady    3m        v1.6.5
</code></pre></div> </div> <p>I strongly suggest that you check journal logs for kubelet service to check what exactly is going on in the background. Run <code class="language-plaintext highlighter-rouge">journalctl –f –u kubelet.service</code>. You will see that kubelet service has failed due to error message- <code class="language-plaintext highlighter-rouge">misconfiguration: kubelet cgroup driver: "systemd" is different from docker cgroup driver: "cgroupfs"</code>.</p> <p>It is essential for normal operation that Kubernetes and Docker have same underlying cgroup driver for resources management. A quick fix for this problem is as follows:</p> <ul> <li>Open kubeadm configuration file “/etc/systemd/system/kubelet.service.d/10-kubeadm.conf” and edit the file to change cgroup driver for Kubernetes to match it with that of Docker. Locate “—cgroup-driver=systemd” and replace it with “—cgroup-driver=cgroupfs”</li> <li>Reload kubelet daemon with systemctl –deamon-reload</li> </ul> <p>You should see all your nodes in the cluster.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>kubectl get nodes

  NAME      STATUS     AGE       VERSION
  node1     Ready      1m        v1.6.5
  node2     Ready      53m       v1.6.5
  node3     Ready      49s       v1.6.5
</code></pre></div> </div> </li> </ul> <hr> <p>Have something to improve this setup guide? Feel free to add your suggestions/steps/text. Please maintain the formatting of this guide, if you plan to contribute to this document. Thank you!</p> </article><div id="disqus_thread" style="max-width: 800px; margin: 0 auto"></div> <script type="text/javascript">var disqus_shortname="saurabhdeochake",disqus_identifier="/blog/2017/kubernetes-centos",disqus_title="Kubernetes on CentOS 7.0";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Saurabh Deochake. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: May 28, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-KLSBHSGZ3P"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KLSBHSGZ3P");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>